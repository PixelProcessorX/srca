// Student Recreation Center Application
// (Database Code by Dillon Simion)

/*import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;*/
import java.sql.*;
import java.util.ArrayList;
// Notice, do not import com.mysql.jdbc.* or you will have problems!

public class RCDB
{
	public static boolean debugmode = true;        //Enable debug outputs for developers?
	public static String  dbName    = "rcdb";      //Name of the mySQL Database
	public static String  where     = "localhost"; //IP address or URL after //, etc...
	public static int     port      = 3306;        //The port the MySQL database is active on.
	public static String  username  = "RcAppReadOnlyAcc";
	public static String  password  = "naUoDPnrSJXRi8HI2p";
	
	public static void main(String[] args) {
		try{
		Connection c = ConnectToDatabase();
			
		
		//myStmt1.setNull(1, Types.INTEGER);
		
		CallableStatement myStmt1 = c.prepareCall("{call StoredProcedure(?,?,?,?);}");
		myStmt1.setString(1, "First Arg");
		myStmt1.setString(2, "Second Arg");
		myStmt1.setInt(3,    567);
		myStmt1.setString(4, "InOut Example"); //For IN
		myStmt1.registerOutParameter(4, Types.VARCHAR); //For OUT
		myStmt1.execute();
		myStmt1.getString(4);//Get Returned OUT Value
		ResultSet myRs = myStmt1.getResultSet(); //To retrieve the table results.
		ResultSetMetaData myRd = myRs.getMetaData();
		
		Statement myStmt0 = c.createStatement();
		String sqlI = "insert into rcdb.table (field, field, field) values ('col0','col1','col2')";
		String sqlU = "update rcdb set columnName='value' where columnA=value";
		String sqlD = "delete from rcdb where columnA=value";
		myStmt0.executeUpdate(sqlI);
		
		
		
		}catch(Exception e){
		    throw new IllegalStateException("Generic Exception Catch Triggered", e);
		}
	}

	static void GetUser(int user_id){
		
	}
	static void GetUsersWhere(){
		
	}
	static void GetUserEvents(int user_id){
		
	}
	static void GetEventsWhere(){
		
	}
	static void GetEventCategories(){
		
	}
	static void GetFitnessCategories(){
		
	}
	static void GetImprovementCategories(){
		
	}
	static void RegisterUser(){
		
	}
	
	
	
	
	
	static ResultSet GetCatsEvent(
		int cat_id, 
		int cat_fit_id, 
		int cat_impr_id, 
		String name_contains, 
		String desc_contains){
		
	}
	static ResultSet GetCatsFitness(
		int cat_id, 
		int cat_impr_id, 
		String name_contains, 
		String desc_contains){
		
	}
	static ResultSet GetCatsImprovement(
		int cat_id, 
		String name_contains, 
		String desc_contains){
		
	}
	static ResultSet GetEvents(){
		
	}
	static ResultSet GetEventsWhere(
		int category INT, 
		int instructor INT, 
		String name_contains, 
		whenbeg_min DATETIME, 
		whenbeg_max DATETIME, 
		whenend_min DATETIME, 
		whenend_max DATETIME, 
		int cost_min, 
		int cost_max, 
		int fitness_cat, 
		int improve_cat){
		
	}
	static ResultSet GetUserEvents(
		int user_id){
		
	}
	static ResultSet GetUsersWhere(
		int user_id, 
		int is_staff, 
		int is_instructor, 
		String username){
		
	}
	static ResultSet RegisterUser(
		boolean IsStaffMember, 
		boolean IsInstructor, 
		GoogleID VARBINARY(4096), 
		PassHash VARBINARY(4096), 
		AuthToken VARBINARY(4096), 
		String Username){
		
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	static Connection ConnectToDatabase(){
		Connection connection = null;
		try{
		    Class.forName("com.mysql.jdbc.Driver");
		}catch(ClassNotFoundException e){
		    throw new IllegalStateException("Cannot find the driver in the classpath!", e);
		}
		String url = "jdbc:mysql://" + where + ":" + Integer.toString(port) + "/rcdb";
		try{
		    connection = DriverManager.getConnection(url, username, password);
		    return connection;
		}catch(SQLException e){
		    if(RCDB.debugmode == true){
			    System.out.println("SQLException: " + e.getMessage());
			    System.out.println("SQLState: " + e.getSQLState());
			    System.out.println("VendorError: " + e.getErrorCode());
		    }
		    throw new IllegalStateException("Cannot connect the database!", e);
		}
	}
}
